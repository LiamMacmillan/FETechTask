"use strict";function onlyNumberKey(n){var t=n.which?n.which:n.keyCode;return!(32<t&&(t<48||57<t))}$(document).ready(function(){var n=0,c=[{id:n++,name:"Goku POP",imageURL:"images/goku.jpg",code:"GOKU",price:5,finalPrice:2.5,count:0},{id:n++,name:"Naruto POP",imageURL:"images/naruto.jpg",code:"NARU",price:20,finalPrice:20,count:0},{id:n++,name:"Luffy POP",imageURL:"images/luffy.jpg",code:"LUF",price:7.5,finalPrice:7.5,count:0}],e=function(n,t,a){"NARU"===t&&3<=a?c[n].finalPrice=19:"NARU"===t&&a<3&&(c[n].finalPrice=20)},i=function(n,t,a,e){"GOKU"===t&&"+"===e?c[n].count++:"GOKU"===t&&"-"===e&&c[n].count--},o=function(){var n=c[0].finalPrice*c[0].count;return 1<n&&n},r=function(){var n=c[1].count;return 3<=n&&n},u=function(n){$("#product-table #table-body").html(""),$.each(n,function(n,t){$("#product-table #table-body").append('<div class="product row" data-id="'+t.id+'" data-name="'+t.name+'" data-code="'+t.code+'" data-price="'+t.price+'" data-count="'+t.count+'">\n                <div class="product-details cell">\n                    <div class="product-image" style="background-image:url(\''+t.imageURL+'\')"></div>\n                    <div class="product-naming">\n                        <div class="name">'+t.name+'</div>\n                        <div class="code">Product code <span>'+t.code+'</span></div>\n                    </div>\n                </div>\n                <div class="product-quantity cell">\n                    <button class="change-quantity decrease-quantity"><i class="icn fas fa-minus"></i></button>\n                    <input class="input-count" type="number" value="'+t.count+'" onClick="this.select();" onkeypress="return onlyNumberKey(event)">\n                    <button class="change-quantity increase-quantity"><i class="icn fas fa-plus"></i></button>\n                </div>\n                <div class="product-price cell"><span>'+t.price+'</span>&nbsp;€</div>\n                <div class="product-total-price cell"><span>'+t.price*t.count+"</span>&nbsp;€</div>\n            </div>")})};u(c);var s=function(){var n=c.reduce(function(n,t){return n+t.count},0),t=c.reduce(function(n,t){return n+t.price*t.count},0),a=c.reduce(function(n,t){return n+t.finalPrice*t.count},0);o()?($("#order-summary #discount-2for1").removeClass("hide"),$("#order-summary #discount-2for1 .savings span").html(o())):$("#order-summary #discount-2for1").addClass("hide"),r()?($("#order-summary #discount-naru").removeClass("hide"),$("#order-summary #discount-naru .savings span").html(r())):$("#order-summary #discount-naru").addClass("hide"),$("#order-summary #item-summary .no-of-items span").html(n),$("#order-summary #item-summary .total-cost span").html(t.toFixed(2)),$("#checkout-container #total-final-cost span").html(a.toFixed(2))};$(document).on("change",".product input.input-count",function(){""===$(this).val()&&$(this).val(0);var n=$(this).parent().parent().data("id"),t=$(this).parent().parent().data("code"),a=parseInt($(this).val());"GOKU"===t&&(a=2*Math.round(a/2)),c[n].count=a,e(n,t,a),u(c),s(),console.log(c)}),$(document).on("click",".product .increase-quantity",function(){var n=$(this).parent().parent().data("id"),t=$(this).parent().parent().data("code");c[n].count++;var a=c[n].count;i(n,t,0,"+"),e(n,t,a),u(c),s(),console.log(c)}),$(document).on("click",".product .decrease-quantity",function(){var n=$(this).parent().parent().data("id"),t=$(this).parent().parent().data("code"),a=c[n].count;0!==a&&(c[n].count--,a=c[n].count,i(n,t,0,"-"),e(n,t,a)),u(c),s(),console.log(c)})});